<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Few Good Patterns</title>
</head>
<body>
  <h1>A Few Good Patterns</h1>  

  <section>
    <h2>Frequency Counter</h2>

  </section>

  <script>
      
    function isAlphaNumeric(ch){
      let c = ch.charCodeAt(0);
      return !(!(c > 47 && c < 58) && 
               !(c > 64 && c < 91) &&
               !(c > 96 && c < 123))
    }

    function charCount(str, lower=true){
      let obj = {}
      for(let c of str){
        if(isAlphaNumeric(c)){
          if(lower) c = c.toLowerCase();
          obj[c] = ++obj[c] || 1;
        } 
      }
      return obj
    }

function freq(arr){
  let obj = {}
  for(let item of arr){
     obj[item] = ++obj[item] || 1;
    } 
    return obj
}

// Useful for numbers, or letters... 
// Needs expansion for general use.

// the Transformation callback [ tx ] is 
// availible for comparison of two arrays
// with a mutation test. See Example Below.
function sameFrequency(arr1, arr2, tx=(v)=>v){
  if(arr1.length != arr2.length) return false;

  let obj1 = freq(arr1);
  let obj2 = freq(arr2);

  for(let u in obj1){
    if(!(obj1[u] == obj2[tx(u)])){
      return false;
    }
  }
  return true;
}

function isAnagram(str1, str2){
  return sameFrequency(str1.split(''), str2.split(''));
}

 console.log(sameFrequency([1, 2, 3, 4], [1, 2, 3])); // false
 console.log(sameFrequency([1, 2, 3, 4], [1, 2, 3, 4])); // true

 // congruency: a is like b given b == a*a
 console.log(sameFrequency([1, 2, 3, 4],  
                           [1, 4, 9, 16], 
                           v=>v*v)); // true
 console.log(sameFrequency([1, 2, 3, 4],  
                           [1, 4, 9, 25], 
                           v=>v*v)); // false
 
 console.log(isAnagram("", "")) // true
 console.log(isAnagram("aaz", "zza")) // false
 console.log(isAnagram("anagram", "nagaram")) // true
 console.log(isAnagram("rat", "car")) // false
 console.log(isAnagram("qwerty", "qeywrt")) // true
 console.log(isAnagram("texttwisttime", "timetwisttext")) // true
                         

  </script>
</body>
</html>
